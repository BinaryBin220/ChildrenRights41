(("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi=("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi||[]).push([[5475],{42472:function(){},2994:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return w}});var n=o(29603),i=o(55117),r=o(16726),s=o(31195),a=o.n(s),l=o(43596),d=o.n(l),u=o(66686),c=o(69406),p=o(60042),f=o.n(p),h=o(52302),m=o(38092),v=o(36948),y=(o(95381),o(42472),function(t){function e(e){var o;return(o=t.call(this,e)||this).isVimeoAndRequireJS=function(){return!(0,c.yFL)()&&(t=o.props.url,e=/vimeo\.com\/.+/,!/vimeo\.com\/external\/[0-9]+\..+/.test(t)&&e.test(t))&&!window.Vimeo&&window.requirejs;var t,e},o.state={vimeoLoaded:!1,isPlaying:!1},o}(0,r.Z)(e,t);var o=e.prototype;return o.componentDidMount=function(){var t=this;this.isVimeoAndRequireJS()&&window.require(["https://player.vimeo.com/api/player.js"],(function(e){window.Vimeo={Player:e},t.setState({vimeoLoaded:!0})}))},o.render=function(){var t=this;if(!this.state.vimeoLoaded&&this.isVimeoAndRequireJS())return null;var e=this.props,o=e.isPlayable,i=e.styles,r=e.disabled;return a().createElement(u.ZP,(0,n.Z)({playing:this.state.isPlaying&&!r,onPlay:function(){return t.setState({isPlaying:!0})},onPause:function(){return t.setState({isPlaying:!1})},style:i},this.props,{light:!o}))},e}(s.Component));y.defaultProps={isPlayable:!0};var g=function(t,e){if(void 0===e&&(e={}),"object"==typeof t){if(e&&e.getVideoUrl)return e.getVideoUrl(t);console.error("must set getVideoUrl in plugin config when using custom video source!",t)}return t},w=function(t){function e(e){var o;(o=t.call(this,e)||this).setUrl=function(t){var e,n,i=o.normalizeUrl(t);i!==o.state.url&&(o.setState({url:i}),null===(e=(n=o.props).onReload)||void 0===e||e.call(n))},o.normalizeUrl=function(t){return 0===t.toLowerCase().indexOf("vimeo")?"https://"+t:t},o.findFormalVideoRatio=function(t){var e,o=[1,5/4,4/3,1.5,1.6,16/9,1.85,2,2.35,2.39,3],n=[].concat(o,o.map((function(t){return 1/t}))),i=(e=t,n.reduce((function(t,o){return Math.abs(o-e)<Math.abs(t-e)?o:t})));return Math.abs(i-t)>.01?t:i},o.getVideoRatio=function(t){var e=t.querySelector("iframe, video");return o.findFormalVideoRatio(e.clientHeight/e.clientWidth)},o.onReactPlayerReady=function(){var t,e,n=d().findDOMNode((0,i.Z)(o)).parentNode,r=o.getVideoRatio(n);n.style["padding-bottom"]=100*r+"%",o.props.isLoaded||(null===(t=(e=o.props).onReady)||void 0===t?void 0:t.call(e))||o.setState({isLoaded:!0})},o.handleContextMenu=function(t){return o.props.componentData.disableDownload&&t.preventDefault()},o.disableDownloadProps=function(){var t=o.props,e=t.componentData,n=t.settings,i={config:{file:{attributes:{controlsList:"nodownload"}}}},r={};return void 0!==e.disableDownload?r=e.disableDownload?i:{}:void 0!==n.disableDownload&&(r=n.disableDownload?i:{}),r},o.onProgress=function(t){var e,i=o.props,r=i.settings,s=i.blockKey;null===(e=r.onProgress)||void 0===e||e.call(r,(0,n.Z)({},t,{id:s}))},(0,c.GuS)(e.componentData,h),o.state={url:void 0,isLoaded:!1};var r=g(e.componentData.src,e.settings);return"string"==typeof r?o.state={url:o.normalizeUrl(r)}:r&&"function"==typeof r.then&&r.then((function(t){return o.setState({url:o.normalizeUrl(t)})})),o}(0,r.Z)(e,t);var o=e.prototype;return o.componentWillReceiveProps=function(t){var e=this;if(!(0,m.isEqual)(t.componentData,this.props.componentData)&&((0,c.GuS)(t.componentData,h),t.componentData.src!==this.props.componentData.src)){var o=g(t.componentData.src,t.settings);"string"==typeof o?this.setUrl(o):o&&"function"==typeof o.then&&o.then((function(t){return e.setUrl(t)}))}},o.componentDidMount=function(){this.setState({key:"mounted"})},o.render=function(){var t=this.props,e=t.theme,o=t.width,i=t.height,r=t.disabled,s=t.setComponentUrl,l=t.onDuration,d=t.settings;this.styles=this.styles||(0,c.y0G)({styles:v.s,theme:e});var u=this.state,p=u.url,h=u.key;null==s||s(p);var m=(0,n.Z)({url:p,onReady:this.onReactPlayerReady,disabled:r,width:o,height:i,key:h,onDuration:l,onProgress:this.onProgress,progressInterval:d.progressInterval||1e3},this.disableDownloadProps()),g=this.props.isLoaded||this.state.isLoaded;return a().createElement(a().Fragment,null,a().createElement(y,(0,n.Z)({className:f()(this.styles.video_player),onContextMenu:this.handleContextMenu,"data-loaded":g,controls:!1!==this.props.isLoaded},m)))},e}(s.Component);w.defaultProps={width:"100%",height:"100%"}}}]);
//# sourceMappingURL=video-viewer.chunk.min.js.map